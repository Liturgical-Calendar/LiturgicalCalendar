{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/definitions/LitCal",
    "definitions": {
        "LitCal": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Settings": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "Year": {
                            "type": "integer",
                            "minimum": 1969,
                            "maximum": 9999
                        },
                        "CalendarType": {
                            "type": "string",
                            "enum": [
                                "CIVIL",
                                "LITURGICAL"
                            ]
                        },
                        "Epiphany": {
                            "$ref": "https://litcal.org/api/dev/schemas/CommonDef.json#/definitions/Epiphany"
                        },
                        "Ascension": {
                            "$ref": "https://litcal.org/api/dev/schemas/CommonDef.json#/definitions/Ascension"
                        },
                        "CorpusChristi": {
                            "$ref": "https://litcal.org/api/dev/schemas/CommonDef.json#/definitions/CorpusChristi"
                        },
                        "Locale": {
                            "type": "string"
                        },
                        "ReturnType": {
                            "type": "string",
                            "enum": [
                                "ICS",
                                "JSON",
                                "XML"
                            ]
                        },
                        "NationalCalendar": {
                            "$ref": "https://litcal.org/api/dev/schemas/CommonDef.json#/definitions/Region"
                        },
                        "DiocesanCalendar": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "Year",
                        "Epiphany",
                        "Ascension",
                        "CorpusChristi",
                        "Locale",
                        "ReturnType"
                    ]
                },
                "Metadata": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "Version": {
                            "type": "string",
                            "minLength": 3,
                            "maxLength": 5,
                            "pattern": "^(?:0|[1-9]\\d*)\\.(?:0|[1-9]\\d*)$"
                        },
                        "Timestamp": {
                            "type": "integer"
                        },
                        "DateTime": {
                            "type": "string",
                            "format": "date-time"
                        },
                        "RequestHeaders": {
                            "type": "object",
                            "properties": {
                                "Cookie": {
                                    "type": "string"
                                },
                                "Accept-Language": {
                                    "type": "string"
                                },
                                "Accept-Encoding": {
                                    "type": "string"
                                },
                                "Sec-Fetch-Dest": {
                                    "type": "string"
                                },
                                "Sec-Fetch-User": {
                                    "type": "string"
                                },
                                "Sec-Fetch-Mode": {
                                    "type": "string"
                                },
                                "Sec-Fetch-Site": {
                                    "type": "string"
                                },
                                "Accept": {
                                    "type": "string"
                                },
                                "User-Agent": {
                                    "type": "string"
                                },
                                "Upgrade-Insecure-Requests": {
                                    "type": "string"
                                },
                                "Sec-Ch-Ua-Platform": {
                                    "type": "string"
                                },
                                "Sec-Ch-Ua-Mobile": {
                                    "type": "string"
                                },
                                "Sec-Ch-Ua": {
                                    "type": "string"
                                },
                                "Cache-Control": {
                                    "type": "string"
                                },
                                "Pragma": {
                                    "type": "string"
                                },
                                "Connection": {
                                    "type": "string"
                                },
                                "X-Accel-Internal": {
                                    "type": "string"
                                },
                                "Host": {
                                    "type": "string"
                                }
                            }
                        },
                        "Solemnities": {
                            "$ref": "#/definitions/DateTimeObjectCollection"
                        },
                        "FeastsMemorials": {
                            "$ref": "#/definitions/DateTimeObjectCollection"
                        }
                    },
                    "required": [
                        "Version",
                        "RequestHeaders",
                        "Solemnities",
                        "FeastsMemorials"
                    ]
                },
                "LitCal": {
                    "type": "object",
                    "patternProperties": {
                        "": {
                            "$ref": "#/definitions/Festivity"
                        }
                    }
                },
                "Messages": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            },
            "required": [
                "Settings",
                "Metadata",
                "LitCal",
                "Messages"
            ]
        },
        "DateTimeObjectCollection": {
            "type": "object",
            "patternProperties": {
                "": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "date": {
                            "type": "string",
                            "format": "date-time"
                        },
                        "timezone_type": {
                            "type": "integer",
                            "const": 3
                        },
                        "timezone": {
                            "type": "string",
                            "const": "UTC"
                        }
                    }
                }
            }
        },
        "Festivity": {
            "type": "object",
            "properties": {
                "eventIdx": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 2000
                },
                "name": {
                    "type": "string"
                },
                "date": {
                    "type": "integer",
                    "minimum": -2851200,
                    "maximum": 253402214400
                },
                "color": {
                    "$ref": "https://litcal.org/api/dev/schemas/CommonDef.json#/definitions/LitColor"
                },
                "colorLcl": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "type": {
                    "$ref": "https://litcal.org/api/dev/schemas/CommonDef.json#/definitions/LitFeastType"
                },
                "grade": {
                    "$ref": "https://litcal.org/api/dev/schemas/CommonDef.json#/definitions/LitGrade"
                },
                "gradeLcl": {
                    "type": "string"
                },
                "displayGrade": {
                    "type": "string"
                },
                "common": {
                    "$ref": "https://litcal.org/api/dev/schemas/CommonDef.json#/definitions/LitCommon"
                },
                "commonLcl": {
                    "type": "string"
                },
                "dayOfTheWeek_ISO8601": {
                    "type": "integer"
                },
                "month": {
                    "type": "integer"
                },
                "day": {
                    "type": "integer"
                },
                "year": {
                    "type": "integer"
                },
                "monthShort": {
                    "type": "string"
                },
                "monthLong": {
                    "type": "string"
                },
                "dayOfTheWeekShort": {
                    "type": "string"
                },
                "dayOfTheWeekLong": {
                    "type": "string"
                },
                "liturgicalYear": {
                    "type": "string"
                },
                "isVigilMass": {
                    "type": "boolean"
                },
                "isVigilFor": {
                    "type": "string"
                },
                "hasVigilMass":  {
                    "type": "boolean"
                },
                "hasVesperI":  {
                    "type": "boolean"
                },
                "hasVesperII":  {
                    "type": "boolean"
                },
                "psalterWeek": {
                    "type": "integer"
                },
                "liturgicalSeason": {
                    "type": "string",
                    "enum": [
                        "ADVENT",
                        "CHRISTMAS",
                        "LENT",
                        "EASTER_TRIDUUM",
                        "EASTER",
                        "ORDINARY_TIME"
                    ]
                }
            },
            "required": [
                "eventIdx",
                "name",
                "date",
                "color",
                "type",
                "grade",
                "displayGrade",
                "common"
            ]
        }
    }
}
